/* --- Theme: Ruled journal (strict 32px grid) -------------------------------- */
:root{
  --bg: #fbf8f0;                /* warm paper */
  --fg: #1f1f23;                /* graphite/ink */
  --muted: #645f54;             /* pencil faded */
  --accent: #C65D3B;            /* terracotta */
  --border: #1f1f23;
  --line: rgba(56, 110, 184, 0.18);   /* soft blue rule */
  --margin: rgba(206, 68, 68, 0.32);  /* red margin */
  --grid: 32px;
  /* place the rule where the text baseline actually sits (22px on a 32px row) */
  --rule-offset: calc(var(--grid) * 0.6875);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html, body { min-height: 100%; }

body {
  color: var(--fg);
  background-color: var(--bg);
  background-image:
    radial-gradient(circle at 12% 20%, rgba(0,0,0,0.028) 0 8%, transparent 18%),
    radial-gradient(circle at 78% 10%, rgba(0,0,0,0.020) 0 7%, transparent 18%),
    radial-gradient(circle at 60% 72%, rgba(0,0,0,0.018) 0 10%, transparent 22%),
    repeating-linear-gradient(
      180deg,
      transparent 0,
      transparent calc(var(--rule-offset) - 1px),
      var(--line) calc(var(--rule-offset) - 1px),
      var(--line) var(--rule-offset),
      transparent var(--rule-offset),
      transparent var(--grid)
    ),
    linear-gradient(90deg, var(--margin) 64px, transparent 64px);
  background-size:
    320px 320px,
    320px 320px,
    420px 420px,
    100% var(--grid),
    100% 100%;
  background-position:
    0 0,
    0 0,
    0 0,
    0 0,
    0 0;
  font-family: 'IBM Plex Mono', 'Space Mono', monospace;
  font-size: 18px;
  line-height: var(--grid);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  padding: var(--grid) 24px 80px 88px;
  max-width: 960px;
  margin: 0 auto;
  box-shadow: 0 14px 38px rgba(0,0,0,0.06);
  border: 1px solid rgba(0,0,0,0.04);
}

/* Everything must be multiples of 32px */
p, li, dt, dd, h1, h2, h3, h4, h5, h6 {
  line-height: var(--grid);
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Playfair Display', Georgia, serif;
  letter-spacing: 0.5px;
}

/* Font sizes that result in integer multiple line heights */
h1 { font-size: 32px; margin: var(--grid) 0; }
h2 { font-size: 24px; margin: var(--grid) 0; line-height: var(--grid); }
h3 { font-size: 20px; margin: var(--grid) 0; line-height: var(--grid); }
p { margin: 0 0 var(--grid) 0; }
ul, ol { margin: 0 0 var(--grid) 0; padding-left: var(--grid); }
li { line-height: var(--grid); }

a { color: var(--fg); text-decoration: none; border-bottom: 1px solid rgba(0,0,0,0.2); }
a:hover { color: var(--accent); border-color: var(--accent); }

::selection { background: rgba(29,79,145,0.18); }

/* Header */
.site-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  margin-bottom: var(--grid);
  line-height: var(--grid);
}

.brand { text-decoration: none; color: var(--fg); }
.brand-text { font-size: 20px; letter-spacing: 2px; font-weight: 700; font-family: 'Playfair Display', serif; }

.site-nav { display: flex; gap: var(--grid); }
.site-nav a {
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 12px;
  border-bottom: none;
  line-height: var(--grid);
}
.site-nav a.active { color: var(--accent); }

/* Hero */
.hero { margin: var(--grid) 0; }

.hero-grid {
  display: grid;
  gap: var(--grid);
  grid-template-columns: 1.1fr .9fr;
}
@media(max-width: 860px) { .hero-grid { grid-template-columns: 1fr; } }

.hero-tag {
  text-transform: uppercase;
  letter-spacing: 2px;
  font-size: 12px;
  color: var(--accent);
  display: block;
  line-height: var(--grid);
}

/* Large headings span multiple grid lines */
.hero h1 {
  font-size: 48px;
  line-height: calc(var(--grid) * 2);
  margin: 0 0 var(--grid) 0;
}

.hero-lede { margin: 0 0 var(--grid) 0; }

.actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--grid);
  margin: var(--grid) 0;
}

/* Buttons */
.btn {
  display: inline;
  font-size: 14px;
  border-bottom: 2px solid var(--accent);
  background: transparent;
  color: var(--fg);
  line-height: var(--grid);
}
.btn:hover { color: var(--accent); }

/* Hero meta */
.hero-meta { margin: 0 0 var(--grid) 0; }
.hero-meta div { margin-bottom: var(--grid); }
.hero-meta dt {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--muted);
  line-height: var(--grid);
}
.hero-meta dd { font-size: 16px; line-height: var(--grid); }

.hero-list {
  list-style: none;
  padding: 0;
  margin: var(--grid) 0;
  border-top: 1px solid rgba(0,0,0,0.1);
}
.hero-list li {
  padding: 0;
  border-bottom: 1px solid rgba(0,0,0,0.1);
  font-size: 14px;
  display: flex;
  justify-content: space-between;
  gap: var(--grid);
  line-height: var(--grid);
  margin-bottom: 8px;
}

.hero-note {
  margin-top: var(--grid);
  font-size: 14px;
  color: var(--muted);
  line-height: var(--grid);
}

/* Sections */
.section { margin: calc(var(--grid) * 2) 0; }

.section-title {
  text-transform: uppercase;
  letter-spacing: 2px;
  font-size: 14px;
  margin: 0 0 var(--grid) 0;
  font-family: 'IBM Plex Mono', monospace;
  color: var(--accent);
  line-height: var(--grid);
}

.section-desc { margin: 0 0 var(--grid) 0; color: var(--muted); line-height: var(--grid); }

/* Lists */
.list-ruled { list-style: none; padding: 0; margin: 0; }
.list-ruled li {
  padding: 0 0 0 calc(var(--grid) / 2);
  margin: 0 0 var(--grid) 0;
  border-left: 2px solid var(--accent);
  line-height: var(--grid);
}

/* Cards */
.grid {
  display: flex;
  flex-direction: column;
  gap: var(--grid);
}

.card {
  display: block;
  padding: 0 0 0 calc(var(--grid) / 2);
  border-left: 2px solid var(--accent);
  background: transparent;
  border-radius: 0;
  text-decoration: none;
}
.card:hover { border-left-color: var(--fg); }
.card-kicker {
  font-size: 11px;
  text-transform: uppercase;
  color: var(--muted);
  letter-spacing: 1px;
  line-height: var(--grid);
}
.card-title {
  margin: 0;
  font-size: 18px;
  font-family: 'Playfair Display', serif;
  line-height: var(--grid);
  border-bottom: none;
}
.card-excerpt {
  font-size: 14px;
  color: var(--muted);
  line-height: var(--grid);
  margin: 0;
}

/* Contact */
.contact-links { display: flex; flex-wrap: wrap; gap: var(--grid); }
.contact-link {
  border-bottom: 2px solid var(--accent);
  background: transparent;
  text-transform: none;
  font-size: 16px;
  line-height: var(--grid);
}

/* Hover peek */
.hover-peek { position: relative; display: inline; cursor: pointer; }
.hover-peek__trigger { border-bottom: 2px solid var(--accent); }
.hover-peek__card {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translate(-50%, 6px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease, transform .25s ease;
  background: #fff;
  border: 1px solid var(--border);
  padding: 8px;
  width: 200px;
  z-index: 20;
  line-height: normal;
}
.hover-peek__card img { width: 100%; display: block; }
.hover-peek:hover .hover-peek__card,
.hover-peek:focus-within .hover-peek__card {
  opacity: 1;
  transform: translate(-50%, 0);
  pointer-events: auto;
}

/* Page content */
.page-wrap { margin: var(--grid) 0; }
.page-hero { margin: 0 0 calc(var(--grid) * 2) 0; }
.page-hero h1 {
  font-size: 36px;
  line-height: calc(var(--grid) * 2);
  margin: 0 0 var(--grid) 0;
}
.page-desc { margin: 0 0 var(--grid) 0; color: var(--muted); line-height: var(--grid); }
.page-meta { font-size: 14px; color: var(--muted); line-height: var(--grid); }

.page-content { margin: 0; }
.page-content h1 { font-size: 28px; margin: calc(var(--grid) * 2) 0 var(--grid) 0; line-height: calc(var(--grid) * 2); }
.page-content h2 { font-size: 24px; margin: calc(var(--grid) * 2) 0 var(--grid) 0; line-height: calc(var(--grid) * 2); }
.page-content h3 { font-size: 20px; margin: var(--grid) 0 var(--grid) 0; line-height: var(--grid); }
.page-content p { margin: 0 0 var(--grid) 0; }
.page-content ul { margin: 0 0 var(--grid) 0; padding-left: var(--grid); }
.page-content li { line-height: var(--grid); }
.page-content a { border-bottom: 1px solid rgba(0,0,0,0.2); }
.page-content a:hover { border-color: var(--accent); }

.page-content pre,
.page-content .highlight pre {
  background: rgba(244,244,244,0.5);
  border: 1px solid rgba(0,0,0,0.1);
  padding: calc(var(--grid) / 2) 20px;
  margin: var(--grid) 0;
  overflow: auto;
  line-height: calc(var(--grid) - 8px);
}

.page-content code {
  background: rgba(244,244,244,0.5);
  border: 1px solid rgba(0,0,0,0.1);
  padding: 2px 6px;
  font-size: 15px;
}

.page-content blockquote {
  margin: var(--grid) 0;
  padding: 0 0 0 20px;
  border-left: 3px solid var(--accent);
  color: var(--muted);
}
.page-content blockquote p { margin: 0; }

/* Footer */
.site-footer {
  margin-top: calc(var(--grid) * 3);
  padding-top: var(--grid);
  border-top: 1px solid rgba(0,0,0,0.1);
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--muted);
  line-height: var(--grid);
  text-align: center;
}

.glitch {
  font-family: 'Playfair Display', serif;
  position: relative;
}
