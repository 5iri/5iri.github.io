<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Memory Performance Attacks: Denial of Memory Service in Multi-Core Systems | 5iri</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Memory Performance Attacks: Denial of Memory Service in Multi-Core Systems" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="I am an enthusiast of digital design" /> <meta property="og:description" content="I am an enthusiast of digital design" /> <link rel="canonical" href="http://localhost:4000/markdown_files/posts/content/memory_performance_attacks.html" /> <meta property="og:url" content="http://localhost:4000/markdown_files/posts/content/memory_performance_attacks.html" /> <meta property="og:site_name" content="5iri" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Memory Performance Attacks: Denial of Memory Service in Multi-Core Systems" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"I am an enthusiast of digital design","headline":"Memory Performance Attacks: Denial of Memory Service in Multi-Core Systems","url":"http://localhost:4000/markdown_files/posts/content/memory_performance_attacks.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> 5iri </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/markdown_files/posts/content/ApexCore_blog.html" class="nav-list-link">ApexCore A RISC-V based CPU</a></li><li class="nav-list-item"><a href="/markdown_files/posts/content/memory_performance_attacks.html" class="nav-list-link">Memory Performance Attacks: Denial of Memory Service in Multi-Core Systems</a></li><li class="nav-list-item"><a href="/markdown_files/posts/content/MAPF.html" class="nav-list-link">Multi-Agent Path Finding</a></li><li class="nav-list-item"><a href="/markdown_files/posts/content/basics_of_cancer_cells.html" class="nav-list-link">Notes on how are cancer cells grow and spread through the body</a></li><li class="nav-list-item"><a href="/markdown_files/posts/content/comparchreads1.html" class="nav-list-link">Requirements, Bottlenecks, and Good Fortune: Agents for Microprocessor Evolution</a></li><li class="nav-list-item"><a href="/markdown_files/posts/content/Abstract_Algebra.html" class="nav-list-link">What is Abstract Algebra?</a></li></ul> </nav> <div class="nav-footer-social"> <a class="mail" href="mailto:shrivishakhdevanand@gmail.com" target="_blank" aria-label="Gmail" > <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" > <path fill="currentColor" d="M12 12.713l-11.715-8.08c-.175-.121-.285-.325-.285-.538v-1.57c0-.553.447-1 1-1h22c.553 0 1 .447 1 1v1.57c0 .213-.11.417-.285.538l-11.715 8.08zm11.715-6.086l-11.715 8.087-11.715-8.087v11.659c0 .553.447 1 1 1h21.43c.553 0 1-.447 1-1v-11.659z" /> </svg> </a> <a href="https://github.com/5iri" target="_blank" aria-label="GitHub"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" > <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.387.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.09-.744.083-.729.083-.729 1.205.084 1.84 1.236 1.84 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.775.418-1.305.76-1.605-2.665-.305-5.466-1.332-5.466-5.93 0-1.31.467-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.62-5.475 5.92.42.36.81 1.096.81 2.21 0 1.595-.015 2.88-.015 3.27 0 .315.21.69.825.57 4.765-1.59 8.2-6.085 8.2-11.385 0-6.627-5.373-12-12-12z" /> </svg> </a> <a href="https://www.linkedin.com/in/shri-vishakh-devanand-85b72429a/" target="_blank" aria-label="LinkedIn" > <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" > <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 11.268h-3v-5.5c0-1.381-1.119-2.5-2.5-2.5s-2.5 1.119-2.5 2.5v5.5h-3v-10h3v1.5c.881-1.32 2.5-1.5 3.5-1.5 2.481 0 4.5 2.019 4.5 4.5v5.5z" /> </svg> </a> <a href="https://x.com/lazybanananann" target="_blank" aria-label="Twitter"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" > <path fill="currentColor" d="M18.75 2H21L14.5 10.25L22 22H15.75L10.75 14.75L4.5 22H2.25L9.25 13.25L2 2H8.5L12.75 8.5L18.75 2ZM17.75 20H19.25L7.5 4H6L17.75 20Z" /> </svg> </a> </div> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" ></script> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search 5iri" aria-label="Search 5iri" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="memory-performance-attacks-denial-of-memory-service-in-multi-core-systems"> <a href="#memory-performance-attacks-denial-of-memory-service-in-multi-core-systems" class="anchor-heading" aria-labelledby="memory-performance-attacks-denial-of-memory-service-in-multi-core-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory Performance Attacks: Denial of Memory Service in Multi-Core Systems </h1> <p><strong>Thomas Moscibroda</strong> <strong>Onur Mutlu</strong> @microsoft</p> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <ul> <li>The transition from single-core to multi-core systems has introduced major performance and security challenges.</li> <li>Multiple programs running on shared DRAM systems can interfere with each other’s memory accesses, leading to performance degradation and security vulnerabilities.</li> <li>This paper introduces a new security problem that arises due to the core design of multi-core architectures – a denial of service (DoS) attack that was not possible in single-core systems.</li> <li>An aggressive memory-intensive program can severely impact the performance of other threads with which it is co-scheduled. This is called a Memory Performance Hog (MPH).</li> <li>This problem worsens with an increasing number of cores, as the impact grows exponentially.</li> <li>An MPH can be used to perform DoS attacks that fool users into thinking other applications are inherently slow, even without causing easily observable performance issues.</li> <li>A regular application can unintentionally behave like an MPH and damage the memory-related performance of co-scheduled threads.</li> </ul> <h2 id="dram-architectures"> <a href="#dram-architectures" class="anchor-heading" aria-labelledby="dram-architectures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DRAM Architectures </h2> <ul> <li>DRAM memory is an expensive resource in modern systems. Creating a separate DRAM system for each core is not feasible.</li> <li>In a partitioned DRAM system, a processor accessing a memory location needs to issue a request to the DRAM partition that contains the data for that location.</li> </ul> <h2 id="dram-memory-systems"> <a href="#dram-memory-systems" class="anchor-heading" aria-labelledby="dram-memory-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DRAM Memory Systems </h2> <p><img src="/markdown_files/posts/assets/DRAM_Block_diagram.png" alt="DRAM BANK ORGANIZATION" /></p> <ul> <li><strong>Row Hit:</strong> Accessing a row already in the row-buffer. It has the lowest latency (around 40-50 ns in commodity DRAM).</li> <li><strong>Row Conflict:</strong> Accessing a different row than the one currently in the row-buffer, requiring the row-buffer to be written back before the new row can be accessed.</li> <li><strong>Row Closed:</strong> No row in the row-buffer, necessitating a read from the memory array before column access.</li> </ul> <h2 id="dram-controller"> <a href="#dram-controller" class="anchor-heading" aria-labelledby="dram-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DRAM Controller </h2> <ul> <li>The DRAM controller mediates between on-chip caches and off-chip DRAM memory. It receives read/write requests from L2 caches.</li> <li>The <strong>memory access scheduler</strong> is responsible for selecting memory requests from the memory request buffer to send to the DRAM memory.</li> </ul> <h2 id="memory-access-scheduling-algorithm"> <a href="#memory-access-scheduling-algorithm" class="anchor-heading" aria-labelledby="memory-access-scheduling-algorithm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory Access Scheduling Algorithm </h2> <ul> <li>Current memory access schedulers typically employ the <strong>First-Ready First-Come-First-Serve (FR-FCFS)</strong> algorithm, which prioritizes requests in the following order: <ul> <li><strong>Row-hit first:</strong> Prioritizes requests that hit the row already in the row-buffer.</li> <li><strong>Oldest-within-bank first:</strong> Prioritizes requests that arrived earliest within the same bank.</li> <li><strong>Oldest-across-banks first:</strong> Prioritizes the earliest arrival time among requests selected by individual bank schedulers.</li> </ul> </li> </ul> <h2 id="vulnerabilities-of-multi-core-dram-memory-system-to-dos-attacks"> <a href="#vulnerabilities-of-multi-core-dram-memory-system-to-dos-attacks" class="anchor-heading" aria-labelledby="vulnerabilities-of-multi-core-dram-memory-system-to-dos-attacks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vulnerabilities of Multi-Core DRAM Memory System to DoS Attacks </h2> <ul> <li>Current DRAM memory systems do not distinguish between the requests of different threads.</li> <li><strong>Unfairness of Row-Hit First Scheduling:</strong> A thread whose accesses result in row hits gets higher priority compared to a thread whose accesses result in row conflicts.</li> <li><strong>Unfairness of Oldest-First Scheduling:</strong> Oldest-first scheduling implicitly favors threads that can generate memory requests at a faster rate than others.</li> </ul> <h2 id="examples-of-dos-in-existing-multi-cores"> <a href="#examples-of-dos-in-existing-multi-cores" class="anchor-heading" aria-labelledby="examples-of-dos-in-existing-multi-cores"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Examples of DoS in Existing Multi-Cores </h2> <ul> <li>When two threads use different access patterns, such as one streaming data and the other accessing memory randomly, the memory controller will prioritize the one with the optimized memory access pattern.</li> </ul> <h2 id="fairness-in-dram-memory-systems"> <a href="#fairness-in-dram-memory-systems" class="anchor-heading" aria-labelledby="fairness-in-dram-memory-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fairness in DRAM Memory Systems </h2> <ul> <li>Defining fairness in DRAM systems is complex, and coming up with a reasonable definition is challenging.</li> </ul> <h2 id="fair-memory-scheduling-a-model"> <a href="#fair-memory-scheduling-a-model" class="anchor-heading" aria-labelledby="fair-memory-scheduling-a-model"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fair Memory Scheduling: A Model </h2> <ul> <li>The authors propose a model for fair memory scheduling to mitigate the impact of MPHs.</li> <li><strong>Fairness Definition:</strong> A memory scheduler is fair if equal-priority threads experience the same memory-related slowdowns when running together.</li> <li><strong>Stall-Time Fair Memory Scheduler (STFM):</strong> STFM prioritizes threads based on their stall times, ensuring that no thread monopolizes memory resources, thus promoting fairness.</li> <li><strong>Implementation Considerations:</strong> STFM requires modifications to the memory controller to track stall times for each thread, ensuring equitable memory access for co-scheduled threads.</li> </ul> <h2 id="conclusion"> <a href="#conclusion" class="anchor-heading" aria-labelledby="conclusion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusion </h2> <ul> <li>The paper highlights the vulnerabilities of multi-core systems to DoS attacks due to unfair memory access scheduling.</li> <li>By introducing the concept of Memory Performance Hogs and the Stall-Time Fair Memory Scheduler, the authors offer a framework to enhance fairness and improve both the performance and security of multi-core systems.</li> </ul> <h2 id="references"> <a href="#references" class="anchor-heading" aria-labelledby="references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> References </h2> <ul> <li>The paper is written by Professor Onur Mutlu which can be found <a href="https://users.ece.cmu.edu/~omutlu/pub/mph_usenix_security07.pdf">here</a></li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
